<script>
		

	function getData(method,url,data={}){
		var http = new XMLHttpRequest()
		http.open(method,url)
		http.setRequestHeader('Content-type','application/json;charset=UTF-8');
		http.send(JSON.stringify(data))
		if(http.status==200){
		http.response;
		}
		
	}
	getData('POST','http://onjay.com/api/login',{a:56})

	p = new Promise((resolve,reject)=>{ resolve('123')})
	p.then(function(res){ console.log(res)})

	p = new Promise((res,rej)=>{ res('123')})	
	p.then(function(res){ console.log(res)})



	function getData(method,url,data={}){
		return new Promise((res,rej)=>{
		var http = new XMLHttpRequest()
		http.open(method,url)
		http.setRequestHeader('Content-type','application/json;charset=UTF-8');
		http.send(JSON.stringify(data))
		if(http.status==200){
		res(http.response);
		}else
		rej('err');
	});
	}
	getData('POST','http://onjay.com/api/login',{a:56}).then((res)=>{ console.log(res)},(err)=>{ console.log(err)});


function myAsyncFunction(url) {
  return new Promise((resolve, reject) => {
    const xhr = new XMLHttpRequest();
    xhr.open("GET", url);
    xhr.onload = () => resolve(xhr.responseText);
    xhr.onerror = () => reject(xhr.statusText);
    xhr.send();
  });
}
myAsyncFunction('http://onjay.com/api/login').then((res)=>{ console.log(res)})